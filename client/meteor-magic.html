<head>
  <title>MAPS Magic RtR Champs Pools!</title>
</head>

<body>
  <div id="top-tag-filter">
    {{> filter}}
  </div>

  <div id="main-pane">
    {{> poolcards}}
  </div>

  <div id="side-pane">
    {{> pools}}
  </div>
</body>

<template name="pools">
  <h3>MAPS Pools!</h3>
  <div id="lists">
    {{#each pools}}
      <div class="list {{selected}}">
          <div class="display">
            <a class="list-name {{name_class}}" href="/{{_id}}">
              {{name}}
            </a>
          </div>
      </div>
    {{/each}}
  </div>
</template>

<template name="poolcards">
  {{#if any_pool_selected}}
    <div class="label">
    {{cards.amount}} cartas 
    {{#if show_price}}
      (${{cards.price}})
    {{/if}}
    </div>

    {{#if show_img}}
    <div class="cards">
      {{#each cards}}
        {{> card}}
      {{/each}}
    </div>
    {{else}}
    <div id="items-view">
      <ul id="item-list">
        {{#each cards}}
          {{> card}}
        {{/each}}
      {{/if}}
      </ul>
    </div>
  {{/if}}
</template>

<template name="card">
  {{#if show_img}}
    <div class="card" style='background: url(http://magiccards.info/scans/en/rtr/{{card.img}}.jpg)'>
      {{amount}}
      {{#if show_price}}
          <span class="img_price">${{card.price}}</span>
      {{/if}}
    </div>
  {{else}}
    <li class="todo {{odd}}">
      <div class="display">
        <div class="todo-text">
            ({{amount}}) 
            {{card.name}} - {{card.types}} - {{card.cost}}

            {{#if show_price}}
                : ${{card.price}}
            {{/if}}
        </div>
      </div>
    </li>
  {{/if}}
  </div>
</template>

<template name="filter">
  <div id="tag-filter" class="tag-list">
    <div class="label">Filtrar:</div>
    <div id="types">
    {{#each types}}
      <div class="type {{selected_type}}">
        {{text}} <span class="count">({{count}})</span>
      </div>
    {{/each}}
    </div>

    <div id="colors">
    {{#each colors}}
      <div class="color {{selected_color}}">
        {{text}} <span class="count">({{count}})</span>
      </div>
    {{/each}}
    </div>

    <div id="rarities">
    {{#each rarities}}
      <div class="rarity {{selected_rarity}}">
        {{text}} <span class="count">({{count}})</span>
      </div>
    {{/each}}
    </div>

    <div id="orderby" class="tag-list">
      <div class="label">Ordenar:</div>
    {{#each sorts}}
      <div class="sort {{selected_sort}}">
        {{text}}
      </div>
    {{/each}}
    </div>

    <div>
      <div class="label">Mostrar:</div>
      <input class="check show_price" id="show_price" type="checkbox" {{{checked_show_price}}} /> Pre√ßo
      <input class="check show_img" id="show_img" type="checkbox" {{{checked_show_img}}} /> Imagem
    </div>
  </div>
</template>
